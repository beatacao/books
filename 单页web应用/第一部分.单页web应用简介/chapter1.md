# 第一个单页应用
```
单页应用：
在浏览器运行的应用
使用期间无需重新加载
可以认为是由web服务器加载的富客户端
```

## 历史
* JAVA 插件 + Flash 插件 实现单页应用（比如页面小游戏等需要安装java 或 flash插件）
* 为何js单页应用姗姗来迟：问题在于我们无法依靠js(或它使用的渲染方法)在所有流行的浏览器上提供一致的关键功能（是指早起js的兼容性太差，那时jquery都没有出现）
* 尽管如此，js单页应用还是有很多优势：
```
无需安装插件，用户和开发人员都省事
不臃肿，所需资源比使用插件少，这些插件需要额外运行环境
在浏览器运行，js是客户端语言，因此可以只用一种语言，降低复杂性
更流畅和更具交互性，因为flash和java不是客户端语言，一般需要一个单独的运行环境，所以需要这两种技术支持的应用，一般只显示在一个小方盒内，和周围的元素风格都不太一样，与页面其他部分的交互也受限制
```
* 得益于js、web标准和各个浏览器的不断发展，使得js单页应用相当流行

```
学习语言或任何事物，掌握核心思想，才能灵活运用：
Javascript 不完美，但是所有语言都一样，只要适应了它的核心思想，采取最佳方法并学会了哪些部分应该避免使用，js开发就会变得高效和愉快
```

* 从传统网站到单页应用，数据库、服务器和客户端职责的变化
```
传统网站：
数据库：数据存储、数据检索、业务逻辑； 
服务器：认证、授权、验证、业务逻辑、生成html
客户端：html渲染、装饰性js

单页应用：
数据库：数据存储、数据检索
服务器：认证、授权、验证
客户端：业务逻辑、html生成、html渲染、装饰性js

可见，业务逻辑和html的生成从后端移到了客户端
```

## 构建第一个单页应用
* 开发应用的流程：设计思路（注意模块的划分） -> 用注释占位编写 -> 填充实际代码
* 库文件可以使用公共的CDN, 如 jquery 托管在google的cdn引用，这么做的好处是减轻服务器压力，而且库的用户比较多的话，大多用户的浏览器里已经有该库文件的缓存

### 精心编写的单页应用的用户效益
* 尽可能把（临时的）工作数据和处理过程从服务器端迁移到浏览器端，单页应用由此把响应时间缩至最小。单页应用在本地拥有大多数需要决策判断的数据和业务逻辑，因此是最快的。只有数据验证，授权和持久存储必须放在服务器端。
* 只重绘变化的部分
* 即用即走
* 跨平台
* 即时更新和发布(这里有个问题，如果前后端交互的数据格式有所变更，但浏览器已经加载了先前版本软件的数据，这会发生什么情况？)
* 桌面应用的即时性，网站的可移植和可访问性

